group 'bzapps'
version '1.0'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

task deploySpringServiceToDocker(type:Exec) {
    println '== Deploying spring service to Docker container =='
    def container_id = 'plwordnetservice'
    def service_build_dir = 'plwordnetMobileService/build/libs/'
    def app_build_dir = 'plwordnetMobileApp/build/outputs/apk/debug/'
    def apk_type = '-debug'
    def path = file('..').getAbsolutePath()

    //on linux
    //workingDir '../'
    //executable 'echo'
    //args '\"pac\"'
    //exec {
    //    executable "docker"
    //    args "exec -it ${container_id} /bin/bash \'" +
    //            "mkdir -p /tmp/plwordnetmobile-service && " +
    //            "mkdir -p /tmp/plwordnetmobile-service/downloads && " +
    //            "mkdir -p /tmp/plwordnetmobile-service/downloads/all_in && " +
    //            "mkdir -p /tmp/plwordnetmobile-service/downloads/android-apk && " +
    //            "mkdir -p /tmp/plwordnetmobile-service/downloads/tmp && " +
    //            "rm /tmp/plwordnetmobile-service/plwordnetmobile-service.jar && " +
    //            "rm /tmp/plwordnetmobile-service/downloads/android-apk/plwordnetmobile-app.apk" +
    //            "\'"
    //}
    //exec{
    //    workingDir '../'
    //    executable "docker"
    //    args "cp ${service_build_dir}plwordnetmobile-service-${rootProject.version}.jar ${container_id}:/tmp/plwordnetmobile-service/plwordnetmobile-service.jar"
    //}
    //exec{
    //    workingDir '../'
    //    executable "docker"
    //    args "cp ${app_build_dir}plwordnetmobile-app${apk_type}.apk ${container_id}:/tmp/plwordnetmobile-service/downloads/android-apk/plwordnetmobile-app.apk"
    //}
}


dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}
